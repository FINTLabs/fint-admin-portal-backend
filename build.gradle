buildscript {
  apply from: 'https://raw.githubusercontent.com/FINTprosjektet/fint-buildscripts/master/dependencies.gradle'
  ext {
    springBootVersion = springBootVersion
  }
  repositories {
    mavenCentral()
  }
  dependencies {
    classpath("org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}")
  }
}

apply plugin: 'java'
apply plugin: 'groovy'
apply plugin: 'maven'
apply plugin: 'org.springframework.boot'

jar {
  baseName = 'fint-admin-portal-backend'
  version = version
}
sourceCompatibility = 1.8
targetCompatibility = 1.8

repositories {
  mavenCentral()
  mavenLocal()
  jcenter()
  repositories {
    maven {
      url "http://dl.bintray.com/rfkikt/maven"
    }
  }
  repositories {
    maven {
      url "http://dl.bintray.com/fint/maven"
    }
  }
  mavenLocal()
  //flatDir { dirs 'client/build/libs' }
}

/*
task webjar(type: Jar, dependsOn: "jar") {
  archiveName = 'client.jar'
  from(fileTree('dist')) {
    into 'META-INF/resources'
  }
}
*/

dependencies {
  //compile name: 'client'
  compile('org.springframework.boot:spring-boot-starter-web')
  compile('org.springframework.retry:spring-retry:1.2.2.RELEASE')

  compile("com.github.springfox.loader:springfox-loader:${springfoxLoaderVersion}")
  compile('no.rogfk:spring-hateoas-hal-extension:0.0.6')
  compile('no.fint:fint-portal-api:3.0.0-rc-20')

  runtime('org.springframework.boot:spring-boot-devtools')
  runtime('org.springframework.ldap:spring-ldap-test')
  runtime("com.unboundid:unboundid-ldapsdk:3.1.1")

  compileOnly('org.projectlombok:lombok')

  testCompile('org.springframework.boot:spring-boot-starter-test')
  testCompile("org.spockframework:spock-core:${spockSpringVersion}")
}

